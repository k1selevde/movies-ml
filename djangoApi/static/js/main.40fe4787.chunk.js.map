{"version":3,"sources":["logo.svg","utils/helpers.js","context/AuthContext.jsx","pages/Auth.jsx","components/Nav/index.jsx","static/img/user.svg","components/User/index.jsx","components/header/index.jsx","utils/axiosCore.js","components/MessagesMailer/index.jsx","components/FrequencySend/index.jsx","pages/Settings.jsx","components/VisitSchedule/index.jsx","components/TableStatistic/index.jsx","pages/Statistics.jsx","pages/AnaliticsMl.jsx","components/PrivateRoute.jsx","App.jsx","reportWebVitals.js","index.jsx"],"names":["checkActive","match","location","pathname","console","log","generateLabelsForTable","count","Array","fill","map","_","i","String","slice","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","defAuth","Boolean","localStorage","getItem","useState","isAuth","setAuth","serverError","email","password","a","removeItem","value","logout","signin","Provider","Auth","username","authData","setAuthData","error","setError","changeHandler","e","fieldName","target","name","fieldValue","prev","submitHandler","preventDefault","currentError","setItem","className","onSubmit","htmlFor","onChange","type","id","placeholder","Nav","isActive","activeClassName","to","_extends","Object","assign","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","d","_ref3","SvgUser","_ref","svgRef","title","titleId","props","width","height","viewBox","xmlns","ref","ForwardRef","User","onClick","Header","axois","defaults","baseURL","MessagesMailer","curValue","setCurValue","useEffect","axios","get","then","res","data","catch","alert","handleSubmit","post","JSON","parse","cols","rows","FrequencySend","object","setCurrentValue","day","saveHandler","Math","round","max","Settings","defValue","VisitSchedule","cinemas","setCinemas","currentCinema","setCurrentCinema","visitData","setVisitData","isLoadingVisitData","setLoadingVisitData","selectedYear","setSelectedYear","selectedMonth","setSelectedMonth","years","months","daysCount","pres","chartData","labels","find","month","datasets","label","borderColor","currentDaysCount","visit","fields","hallid","disabled","selectCinemasHandler","selected","hidden","cinema","cityname","role","selectMonthHandler","selectYearHandler","year","options","maintainAspectRatio","defaultValues","parametr","TableStatistic","tableValues","setTableValues","values","style","background","scope","v","index","Statistics","testUserList","some","UserItem","curUser","user","clickHandler","cn","AnaliticsMl","currentUser","setCurrentUser","userList","userLinkHandler","PrivateRoute","Component","component","rest","render","App","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.40fe4787.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","\r\nexport const validateAuth = (password, username) => {\r\n    if (!Boolean(password) && !Boolean(username)) {\r\n        return 'Введите username и password'\r\n    } else if (!Boolean(username)) {\r\n        return 'Введите username'\r\n    } else if (!Boolean(password)) {\r\n        return 'Введите password'\r\n    }\r\n    return ''\r\n}\r\n\r\n\r\nexport const checkActive = (match, location) => {\r\n    if(!location) return false;\r\n    const {pathname} = location;\r\n    console.log(pathname);\r\n    return pathname === \"/\";\r\n}\r\n\r\nexport const getCurrentDayStr = (day) => {\r\n    if (((day % 10) >= 2) && ((day % 10) <= 4) && (Math.round(day / 10) !== 1)) {\r\n        return 'дня'\r\n    } else if (day == 1) {\r\n        return 'день'\r\n    } else {\r\n        return 'дней'\r\n    }\r\n}\r\n\r\n\r\n// labels for visit table\r\n\r\nexport const generateLabelsForTable = (count) => {\r\n    return new Array(count).fill(0).map((_,i) => String(\"0\" + (i+1)).slice(-2))\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React, {useContext, useEffect, useState} from 'react'\r\n\r\n\r\nconst AuthContext = React.createContext();\r\n\r\nexport function useAuth() {\r\n    return useContext(AuthContext)\r\n}\r\n\r\nexport function AuthProvider({children}) {\r\n\r\n    const defAuth = Boolean(localStorage.getItem('isAuth')) ? localStorage.getItem('isAuth') : false;\r\n\r\n    const [isAuth, setAuth] = useState(defAuth);\r\n    const [serverError, setError] = useState('');\r\n\r\n    async function signin(email,password) {\r\n        await setAuth(true)\r\n    }\r\n\r\n    async function logout() {\r\n        await localStorage.removeItem('isAuth')\r\n        setAuth(false)\r\n    }\r\n\r\n    const value = {\r\n        logout,\r\n        signin,\r\n        isAuth,\r\n        serverError\r\n    }\r\n\r\n    return (\r\n        <AuthContext.Provider value={value}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    )\r\n}","import React, {useState} from 'react';\r\nimport {validateAuth} from \"../utils/helpers\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\n\r\nconst Auth = () => {\r\n    const { signin, serverError } = useAuth();\r\n    const [authData, setAuthData] = useState({username: '', password: ''})\r\n    const [error, setError] = useState('')\r\n\r\n    const changeHandler = (e) => {\r\n        const fieldName = e.target.name\r\n        const fieldValue = e.target.value\r\n        setAuthData(prev => ({\r\n            ...prev,\r\n            [fieldName]: fieldValue\r\n        }))\r\n    }\r\n\r\n    const submitHandler = async (e) => {\r\n        e.preventDefault()\r\n        let currentError = (validateAuth(authData.password, authData.username))\r\n        if (!Boolean(currentError)) {\r\n            setError('')\r\n            console.log('Send data')\r\n            await signin()\r\n            localStorage.setItem('isAuth', true)\r\n        } else {\r\n            setError(currentError)\r\n            console.log('current error', currentError)\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"auth__outer\">\r\n            <div className=\"form__container\">\r\n                <h3 className=\"form__title\">LOGIN</h3>\r\n                <div className=\"form__error\">{error}</div>\r\n                <form onSubmit={submitHandler} className=\"form\">\r\n                    <div className=\"form__group\">\r\n                        <label\r\n                            className=\"form__label\"\r\n                            htmlFor=\"username\"\r\n                        >Username</label>\r\n                        <input\r\n                            onChange={changeHandler}\r\n                            value={authData.username}\r\n                            type=\"text\"\r\n                            className=\"form__input\"\r\n                            id=\"username\"\r\n                            name=\"username\"\r\n                            placeholder=\"Enter username\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"form__group\">\r\n                        <label\r\n                            className=\"form__label\"\r\n                            htmlFor=\"password\"\r\n                        >Password</label>\r\n                        <input\r\n                            onChange={changeHandler}\r\n                            value={authData.password}\r\n                            type=\"password\"\r\n                            name=\"password\"\r\n                            className=\"form__input\"\r\n                            id=\"password\"\r\n                            placeholder=\"Enter password\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"form__btn--wrap\">\r\n                        <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Auth;","import React from 'react';\r\nimport {NavLink} from 'react-router-dom'\r\n\r\nimport { checkActive } from \"../../utils/helpers\";\r\n\r\nimport'./Nav.scss'\r\n\r\nconst Nav = () => {\r\n    return (\r\n        <div>\r\n            <div className=\"nav__wrap\">\r\n                <div className=\"nav__item\">\r\n                    <NavLink\r\n                        isActive={checkActive}\r\n                        activeClassName='nav__link--active'\r\n                        className=\"nav__link\"\r\n                        to=\"/\"\r\n                    >\r\n                        Статистика\r\n                    </NavLink>\r\n                </div>\r\n                <div className=\"nav__item\">\r\n                    <NavLink\r\n                        activeClassName='nav__link--active'\r\n                        className=\"nav__link\"\r\n                        to=\"/settings\"\r\n                    >\r\n                        Настройки\r\n                    </NavLink>\r\n                </div>\r\n                <div className=\"nav__item\">\r\n                    <NavLink\r\n                        activeClassName='nav__link--active'\r\n                        className=\"nav__link\"\r\n                        to=\"/analitics\"\r\n                    >\r\n                        Аналитика ML\r\n                    </NavLink>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Nav;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m210.351562 246.632812c33.882813 0 63.222657-12.152343 87.195313-36.128906 23.972656-23.972656 36.125-53.304687 36.125-87.191406 0-33.875-12.152344-63.210938-36.128906-87.191406-23.976563-23.96875-53.3125-36.121094-87.191407-36.121094-33.886718 0-63.21875 12.152344-87.191406 36.125s-36.128906 53.308594-36.128906 87.1875c0 33.886719 12.15625 63.222656 36.132812 87.195312 23.976563 23.96875 53.3125 36.125 87.1875 36.125zm0 0\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m426.128906 393.703125c-.691406-9.976563-2.089844-20.859375-4.148437-32.351563-2.078125-11.578124-4.753907-22.523437-7.957031-32.527343-3.308594-10.339844-7.808594-20.550781-13.371094-30.335938-5.773438-10.15625-12.554688-19-20.164063-26.277343-7.957031-7.613282-17.699219-13.734376-28.964843-18.199219-11.226563-4.441407-23.667969-6.691407-36.976563-6.691407-5.226563 0-10.28125 2.144532-20.042969 8.5-6.007812 3.917969-13.035156 8.449219-20.878906 13.460938-6.707031 4.273438-15.792969 8.277344-27.015625 11.902344-10.949219 3.542968-22.066406 5.339844-33.039063 5.339844-10.972656 0-22.085937-1.796876-33.046874-5.339844-11.210938-3.621094-20.296876-7.625-26.996094-11.898438-7.769532-4.964844-14.800782-9.496094-20.898438-13.46875-9.75-6.355468-14.808594-8.5-20.035156-8.5-13.3125 0-25.75 2.253906-36.972656 6.699219-11.257813 4.457031-21.003906 10.578125-28.96875 18.199219-7.605469 7.28125-14.390625 16.121094-20.15625 26.273437-5.558594 9.785157-10.058594 19.992188-13.371094 30.339844-3.199219 10.003906-5.875 20.945313-7.953125 32.523437-2.058594 11.476563-3.457031 22.363282-4.148437 32.363282-.679688 9.796875-1.023438 19.964844-1.023438 30.234375 0 26.726562 8.496094 48.363281 25.25 64.320312 16.546875 15.746094 38.441406 23.734375 65.066406 23.734375h246.53125c26.625 0 48.511719-7.984375 65.0625-23.734375 16.757813-15.945312 25.253906-37.585937 25.253906-64.324219-.003906-10.316406-.351562-20.492187-1.035156-30.242187zm0 0\"\n});\n\nfunction SvgUser(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    fill: \"#242748\",\n    width: \"40px\",\n    height: \"40px\",\n    viewBox: \"-42 0 512 512.002\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgUser);\nexport default __webpack_public_path__ + \"static/media/user.26c07633.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport { useAuth } from \"../../context/AuthContext\";\r\n\r\nimport {ReactComponent as UserSvg} from '../../static/img/user.svg'\r\n\r\nimport './User.scss'\r\n\r\n\r\n\r\nconst User = () => {\r\n    const { logout } = useAuth()\r\n\r\n    const handleLogout = () => {\r\n        logout()\r\n    }\r\n    return (\r\n        <div className=\"user__wrap\">\r\n            <p className=\"user__name\">Administrator</p>\r\n            <div className=\"user__avatar\">\r\n                <UserSvg />\r\n            </div>\r\n            <div>\r\n                <button\r\n                    onClick={handleLogout}\r\n                    className=\"user__logout\"\r\n                >\r\n                    <p\r\n\r\n                        className=\"user__logout--text\"\r\n                    >ВЫЙТИ</p>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default User;","import React from 'react';\r\n\r\nimport Nav from '../Nav/index'\r\nimport User from '../User/index'\r\n\r\nimport './Header.scss'\r\n\r\nconst Header = () => {\r\n    return (\r\n        <div className=\"my-container\">\r\n            <div className=\"my-header__wrap\">\r\n                <div className=\"my-header\">\r\n                    <Nav/>\r\n                    <User/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Header;","import axois from 'axios'\r\n\r\n\r\naxois.defaults.baseURL = 'http://127.0.0.1:8000';\r\n\r\nexport default axois;","import React, { useState, useEffect } from 'react';\r\n\r\nimport axios from '../../utils/axiosCore'\r\n\r\nimport './MessagesMailer.scss'\r\n\r\nconst MessagesMailer = () => {\r\n\r\n    // const [localDefValue, setLocalDefValue] = useState('')\r\n    const [curValue, setCurValue] = useState('')\r\n    // const [serverError, setServerError] = useState('')\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        axios.get('/api/message')\r\n            .then(res => {\r\n                console.log(`res get message`, res.data)\r\n                setCurValue(res.data)\r\n            })\r\n            .catch((e) => {\r\n                alert(e)\r\n            })\r\n        }, [])\r\n\r\n\r\n    const handleSubmit = async () => {\r\n        await axios.post('/api/message/', {value: curValue}, {})\r\n            .then((res) => {\r\n                console.log('RES MESSAGE POST, SAVE: ', JSON.parse(res.data).value)\r\n                setCurValue(JSON.parse(res.data).value)\r\n                alert('Изменения успешно сохранены')\r\n            })\r\n            .catch((e) => {\r\n                console.log(e)\r\n                alert('Ошибка на сервере. Попробуйте позже')\r\n            })\r\n\r\n\r\n    }\r\n\r\n    const handleChange = (e) => {\r\n        setCurValue(e.target.value)\r\n    }\r\n\r\n    return (\r\n        <div className=\"messagesMailer\">\r\n            <div className=\"messagesMailer__top\">\r\n                <h3 className=\"messagesMailer__title\">Рассылка в сообщении</h3>\r\n                <button\r\n                    onClick={handleSubmit}\r\n                    className=\"btn btn-success\"\r\n                    // disabled={localDefValue == curValue}\r\n                >Сохранить</button>\r\n            </div>\r\n            <div className=\"messagesMailer__wrap\">\r\n                <textarea\r\n                    onChange={handleChange}\r\n                    value={curValue}\r\n                    placeholder=\"Введите новое сообщение\"\r\n                    className=\"messagesMailer__textarea\"\r\n                    name=\"\"\r\n                    id=\"\"\r\n                    cols=\"30\"\r\n                    rows=\"10\"\r\n                >\r\n                </textarea>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MessagesMailer;","import React, {useState, useEffect} from 'react';\r\n\r\nimport axios from '../../utils/axiosCore'\r\nimport { getCurrentDayStr } from \"../../utils/helpers\";\r\n\r\nimport './FrequencySend.scss'\r\n\r\n\r\n\r\n\r\nconst FrequencySend = ({object, type}) => {\r\n\r\n    const [curValue,setCurrentValue] = useState(0)\r\n\r\n\r\n\r\n    const toodlerHandler = (e) => {\r\n        setCurrentValue(e.target.value)\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        axios.get(`/api/freq/${type}/${curValue}/`)\r\n            .then(res => {\r\n                setCurrentValue(res.data)\r\n                // console.log('res frequency :', res)\r\n            })\r\n            .catch((e) => {\r\n                console.log('freq get:  ', e)\r\n                alert(`Ошибка на сервере.Попробуйте позже. ${e}`)\r\n            })\r\n    }, [])\r\n\r\n\r\n\r\n\r\n    const saveHandler = async () => {\r\n        await axios.post(`/api/freq/${type}/${curValue}/`, {}, {})\r\n            .then(() => {\r\n                setCurrentValue(curValue)\r\n                alert('Изменения сохранены')\r\n            })\r\n            .catch((e) => {\r\n                alert(`Ошибка на сервере.Попробуйте позже. ${e}`)\r\n            })\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"freqSend__top\">\r\n                <h4 className=\"freqSend__title\">Частота отправки на {object}</h4>\r\n                <button\r\n                    onClick={saveHandler}\r\n                    className=\"btn btn-success freqSend__btn\"\r\n                >\r\n                    Сохранить</button>\r\n            </div>\r\n            <div className=\"freqSend__middle\">\r\n                <p className=\"freqSend__middle--left\">1 раз в </p>\r\n                <div className=\"freqSend__result\">\r\n                    <div>{curValue}</div>\r\n                </div>\r\n                <p>{getCurrentDayStr(curValue)}</p>\r\n            </div>\r\n            <div>\r\n                <input\r\n                    max={50}\r\n                    onChange={toodlerHandler}\r\n                    type=\"range\"\r\n                    className=\"form-control-range freqSend__toddler\"\r\n                    id=\"formControlRange\"\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FrequencySend;","import React from 'react';\r\n\r\nimport Header from \"../components/header\";\r\nimport MessagesMailer from '../components/MessagesMailer'\r\nimport FrequencySend from \"../components/FrequencySend\";\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <>\r\n            <Header/>\r\n            <section className=\"settings__body\">\r\n                <div className=\"settings__container\">\r\n                    <h3 className=\"settings__title\">Настройки</h3>\r\n                    <MessagesMailer />\r\n                    <div className=\"settings__senders\">\r\n                        <FrequencySend\r\n                            object={\"телефон\"}\r\n                            type={\"phone\"}\r\n                            defValue={\"20\"}\r\n                        />\r\n                        <FrequencySend\r\n                            object={\"почту\"}\r\n                            type={\"mail\"}\r\n                            defValue={\"10\"}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        </>\r\n);\r\n};\r\n\r\nexport default Settings;","import React, {useState, useEffect} from 'react';\r\nimport axios from '../../utils/axiosCore'\r\n\r\n\r\nimport {Line} from 'react-chartjs-2'\r\nimport {generateLabelsForTable} from '../../utils/helpers'\r\n\r\nimport './VisitSchedule.scss'\r\n\r\n\r\nconst VisitSchedule = () => {\r\n    const [cinemas, setCinemas] = useState(null)\r\n    const [currentCinema, setCurrentCinema] = useState(null)\r\n    const [visitData, setVisitData] = useState(null)\r\n    const [isLoadingVisitData, setLoadingVisitData] = useState(false)\r\n    const [selectedYear, setSelectedYear] = useState(null)\r\n    const [selectedMonth, setSelectedMonth] = useState(null)\r\n\r\n    const years = [\r\n        {\r\n            name: '2019',\r\n        }\r\n    ]\r\n    const months = [\r\n        {\r\n            name: 'Январь',\r\n            daysCount: 31,\r\n            pres: '01'\r\n        },\r\n        {\r\n            name: 'Февраль',\r\n            daysCount: 28,\r\n            pres: '02'\r\n        },\r\n        {\r\n            name: 'Март',\r\n            daysCount: 31,\r\n            pres: '03'\r\n        },\r\n        {\r\n            name: 'Апрель',\r\n            daysCount: 30,\r\n            pres: '04'\r\n        },\r\n        {\r\n            name: 'Май',\r\n            daysCount: 31,\r\n            pres: '05'\r\n        },\r\n        {\r\n            name: 'Июнь',\r\n            daysCount: 30,\r\n            pres: '06'\r\n        },\r\n        {\r\n            name: 'Июль',\r\n            daysCount: 31,\r\n            pres: '07'\r\n        },\r\n        {\r\n            name: 'Август',\r\n            daysCount: 31,\r\n            pres: '08'\r\n        },\r\n        {\r\n            name: 'Сентябрь',\r\n            daysCount: 30,\r\n            pres: '09'\r\n        },\r\n        {\r\n            name: 'Октябрь',\r\n            daysCount: 31,\r\n            pres: '10'\r\n        },\r\n        {\r\n            name: 'Ноябрь',\r\n            daysCount: 30,\r\n            pres: '11'\r\n        },\r\n        {\r\n            name: 'Декабрь',\r\n            daysCount: 31,\r\n            pres: '12'\r\n        }\r\n    ]\r\n\r\n\r\n    const selectCinemasHandler = (e) => {\r\n        setCurrentCinema(e.target.value)\r\n    }\r\n\r\n    const selectYearHandler = (e) => {\r\n        console.log(e.target.value)\r\n        setSelectedYear(e.target.value)\r\n    }\r\n\r\n    const selectMonthHandler = (e) => {\r\n        console.log(e.target.value)\r\n        setSelectedMonth(e.target.value)\r\n    }\r\n\r\n    const chartData = {\r\n        labels: (Boolean(selectedMonth) ? generateLabelsForTable(months.find(month => month.pres == selectedMonth).daysCount) : generateLabelsForTable(30)),\r\n        datasets: [{\r\n            label: 'Посещение кинотеатра',\r\n            data: visitData,\r\n            borderColor: ['lightcoral']\r\n        }\r\n        ]\r\n    }\r\n\r\n    // get visit data\r\n\r\n    useEffect(async () => {\r\n        if (Boolean(currentCinema) && Boolean(selectedYear) && Boolean(selectedMonth)) {\r\n            let currentDaysCount = months.find(month => month.pres == selectedMonth).daysCount\r\n            setLoadingVisitData(true)\r\n            await axios.get(`/api/visit/${currentCinema}/${selectedYear}/${selectedMonth}/${currentDaysCount}`)\r\n                .then((res) => {\r\n                    setVisitData(res.data.visit)\r\n                    setLoadingVisitData(false)\r\n                    console.log('OKEY visit data : ', res.data.visit)\r\n                })\r\n                .catch((e) => {\r\n                    console.log('Server bad visit request', e)\r\n                    setLoadingVisitData(false)\r\n                })\r\n            console.log('current cinema change')\r\n        }\r\n\r\n    }, [currentCinema, selectedYear, selectedMonth])\r\n\r\n\r\n    // get cinemas data\r\n    useEffect(async () => {\r\n        console.log('cinemas request start')\r\n        await axios.get(`/api/cinemas/`)\r\n            .then((res) => {\r\n                console.log('GOOOOD cinemas', res.data[0].fields.hallid)\r\n                setCinemas(res.data)\r\n            })\r\n            .catch((e) => {\r\n                console.log('Server bad cinemas request', e)\r\n            })\r\n        console.log('cinemas requiest end')\r\n    }, [])\r\n\r\n\r\n    return (\r\n        <div className=\"visitSchedule\">\r\n            <h3 className=\"visitSchedule__title\">Таблица посещения</h3>\r\n\r\n            <div className=\"visitSchedule__top\">\r\n                <div>\r\n                    <select\r\n                    disabled={isLoadingVisitData}\r\n                    className=\"visitSchedule__dropdown\"\r\n                    onChange={(e) => selectCinemasHandler(e)}\r\n                    >\r\n\r\n                        <option value=\"default\" selected disabled hidden>Выберите кинотеатр</option>\r\n                        {\r\n                            cinemas && cinemas.map((cinema) => {\r\n                                let value = `${cinema.fields.cityname}: ${cinema.fields.name}`\r\n                                let hallid = cinema.fields.hallid\r\n                                return (\r\n                                    <option value={hallid}>{value}</option>\r\n                                )\r\n                            })\r\n                        }\r\n\r\n                    </select>\r\n                    {isLoadingVisitData &&\r\n                        <div className=\"visitSchedule__top__spinner spinner-border text-dark\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    }\r\n                </div>\r\n\r\n                <div>\r\n\r\n                    <select\r\n                        disabled={isLoadingVisitData}\r\n                        className=\"visitSchedule__dropdown__month\"\r\n                        onChange={(e) => selectMonthHandler(e)}\r\n                    >\r\n\r\n                        <option value=\"default\" selected disabled hidden>Выберите месяц</option>\r\n                        {\r\n                            months && months.map((month) => {\r\n                                return (\r\n                                    <option value={month.pres}>{month.name}</option>\r\n                                )\r\n                            })\r\n                        }\r\n\r\n                    </select>\r\n\r\n                    <select\r\n                        disabled={isLoadingVisitData}\r\n                        className=\"visitSchedule__dropdown__year\"\r\n                        onChange={(e) => selectYearHandler(e)}\r\n                    >\r\n                        <option value=\"default\" selected disabled hidden>Выберите год</option>\r\n                        {\r\n                            years && years.map((year) => {\r\n                                return (\r\n                                    <option value={year.name}>{year.name}</option>\r\n                                )\r\n                            })\r\n                        }\r\n\r\n                    </select>\r\n\r\n\r\n\r\n                </div>\r\n            </div>\r\n\r\n\r\n            <div className=\"visitSchedule__block\">\r\n                <Line\r\n                    data={chartData}\r\n                    width={100}\r\n                    height={50}\r\n                    options={{maintainAspectRatio: false}}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default VisitSchedule;","import React, { useState, useEffect } from 'react';\r\n\r\nimport axios from \"../../utils/axiosCore\";\r\n\r\nimport './TableStatistics.scss'\r\n\r\nlet defaultValues = [\r\n        {parametr: 'Количество людей не поситивших кинотеатр после получения рекомендаций', value: 21321},\r\n        {parametr: 'Количество людей, которые отказались от рассылки', value: 21321},\r\n        {parametr: 'Количество людей не посетивших кинотеатр после получения рекомендации', value: 21321},\r\n        {parametr: 'Количество людей, посетивших кинотеатр без учета рекомендации (пошли не на предложенный фильм)', value: 21321}\r\n    ]\r\n\r\nconst TableStatistic = () => {\r\n\r\n    const [tableValues, setTableValues] = useState(defaultValues)\r\n\r\n\r\n    useEffect(() => {\r\n        axios.get('/api/baseStat')\r\n            .then((res) => {\r\n                setTableValues(res.data.values)\r\n            })\r\n            .catch((e) => {\r\n                console.log(`Server bad table request. ${e}`)\r\n            })\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"tableStatistics__wrap\">\r\n            <table style={{background: '#576597'}} className=\"table table-hover\">\r\n                <thead>\r\n                <tr>\r\n                    <th scope=\"col\">#</th>\r\n                    <th scope=\"col\">Параметр</th>\r\n                    <th scope=\"col\">Значение</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                {tableValues.map((v,index) => (\r\n                    <tr key={v.parametr}>\r\n                        <th scope=\"row\">{index + 1}</th>\r\n                        <td>{v.parametr}</td>\r\n                        <td>{v.value}</td>\r\n                    </tr>\r\n                    )\r\n                )}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TableStatistic;","import React from 'react';\r\n\r\n\r\nimport VisitSchedule from '../components/VisitSchedule'\r\nimport Header from \"../components/header\";\r\n\r\n\r\n\r\n\r\nimport TableStatistic from \"../components/TableStatistic\";\r\n\r\nconst Statistics = () => {\r\n\r\n\r\n    return (\r\n        <>\r\n            <div>\r\n                <Header/>\r\n                <section className=\"statistics__body\">\r\n                    <div className=\"statistics__wrap\">\r\n                        <div className=\"statistics__container\">\r\n                            <h3 className=\"statistics__title\">Статистика</h3>\r\n                            <VisitSchedule/>\r\n                            <TableStatistic/>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Statistics;","import React, {useState, useEffect} from 'react';\r\nimport cn from 'classnames'\r\n\r\n\r\n\r\nimport Header from \"../components/header\";\r\n\r\n// test data\r\n\r\nconst testUserList = [\r\n    {id: '123213411', some: 'any'},\r\n    {id: '123213412', some: 'any'},\r\n    {id: '123213413', some: 'any'},\r\n    {id: '123213414', some: 'any'},\r\n    {id: '123213415', some: 'any'},\r\n    {id: '123213416', some: 'any'},\r\n    {id: '123213417', some: 'any'},\r\n    {id: '123213412', some: 'any'},\r\n    {id: '1232134217', some: 'any'},\r\n    {id: '13123123', some: 'any'},\r\n    {id: '123цук7', some: 'any'},\r\n    {id: '123324417', some: 'any'},\r\n    {id: '1232цу417', some: 'any'},\r\n    {id: '123213417', some: 'any'},\r\n    {id: '12321кцу417', some: 'any'},\r\n    {id: '1232134кцу7', some: 'any'},\r\n    {id: '123213417', some: 'any'},\r\n    {id: '123213417', some: 'any'},\r\n    {id: '123213417', some: 'any'},\r\n    {id: '123213417', some: 'any'},\r\n    {id: '123213417', some: 'any'},\r\n    {id: '123213417', some: 'any'},\r\n    {id: '123213417', some: 'any'},\r\n    {id: '123213417', some: 'any'},\r\n    {id: '123213417', some: 'any'},\r\n    {id: '123213417', some: 'any'},\r\n    {id: '123213417', some: 'any'},\r\n    {id: '123213417', some: 'any'},\r\n    {id: '123213417', some: 'any'},\r\n    {id: '123213417', some: 'any'},\r\n    {id: '123213417', some: 'any'},\r\n    {id: '123213417', some: 'any'},\r\n    {id: '123213417', some: 'any'},\r\n    {id: '123213417', some: 'any'},\r\n    {id: '123213417', some: 'any'}\r\n]\r\n\r\n\r\nconst UserItem = ({curUser, user, clickHandler}) => {\r\n    return (\r\n        <div\r\n            onClick={() => clickHandler(user)}\r\n            key={user.id}\r\n            className={cn(\"analytics__userItem__wrap\",\r\n                    {\"flow\": curUser.id === user.id}\r\n                )}\r\n\r\n        >\r\n            <p className=\"analytics__userItem__id\">{user.id}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\nconst AnaliticsMl = () => {\r\n\r\n    const [currentUser, setCurrentUser] = useState({id: '123213417', some: 'any'})\r\n    const [userList, setUserList] = useState(testUserList)\r\n\r\n\r\n    const userLinkHandler = (user) => {\r\n        console.log(`Click : ${user.id}`)\r\n        setCurrentUser(user)\r\n    }\r\n\r\n    useEffect(() => {\r\n        // get user list\r\n    }, [])\r\n\r\n\r\n    // current user change\r\n    useEffect(() => {\r\n        // get new user data\r\n    }, [currentUser.id])\r\n\r\n\r\n    return (\r\n        <>\r\n            <Header/>\r\n\r\n            <section className=\"analytics__body\">\r\n                <div className=\"analytics__container\">\r\n                    <h3 className=\"analytics__title\">Аналитка ML</h3>\r\n                    <div className=\"analytics__wrap\">\r\n                        <div className=\"analytics__userList\">\r\n                            <h3 className=\"analytics__userList__title\">Список зрителей</h3>\r\n                            <div className=\"analytics__userList__wrap\">\r\n                                {userList.map(user => (\r\n                                    <UserItem user={user} curUser={currentUser} clickHandler={userLinkHandler}/>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"analytics__currentUser\">\r\n                            <h4>Current user, {currentUser.id}</h4>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n        </>\r\n    );\r\n};\r\n\r\nexport default AnaliticsMl;","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom'\r\nimport { useAuth } from \"../context/AuthContext\";\r\n\r\nexport default function PrivateRoute({ component: Component, ...rest}) {\r\n    const { isAuth } = useAuth()\r\n\r\n    return (\r\n        <Route {...rest}\r\n            render={props => {\r\n                return isAuth ? <Component {...props} /> : <Redirect to=\"/signin\" />\r\n            }}\r\n        >\r\n        </Route>\r\n    )\r\n}","import {Route, Redirect, Switch} from \"react-router-dom\"\n\nimport logo from './logo.svg';\nimport {Auth, Settings, Statistics, AnaliticsMl} from './pages'\nimport './App.css';\nimport PrivateRoute from \"./components/PrivateRoute\";\nimport { useAuth } from \"./context/AuthContext\";\n\n\nfunction App() {\n    const { isAuth } = useAuth();\n    return (\n        <div>\n            <Switch>\n                <Route\n                    exact\n                    path=\"/signin\"\n                    render={() => {\n                        console.log(isAuth)\n                       return (isAuth ? <Redirect to=\"/\" /> : <Auth />)\n                    }}\n                />\n                <PrivateRoute\n                    exact\n                    path=\"/settings\"\n                    component={Settings}\n                />\n                <PrivateRoute\n                    exact\n                    path=\"/\"\n                    component={Statistics}\n                />\n                <PrivateRoute\n                    exact\n                    path=\"/analitics\"\n                    component={AnaliticsMl}\n                />\n            </Switch>\n        </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {BrowserRouter} from \"react-router-dom\";\nimport { AuthProvider} from \"./context/AuthContext\";\nimport './styles/main.scss'\n\n\nReactDOM.render(\n  <React.StrictMode>\n      <BrowserRouter>\n          <AuthProvider>\n            <App />\n          </AuthProvider>\n      </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}